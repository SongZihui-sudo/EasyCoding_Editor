<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel = "stylesheet" type="text/css" href="../css/Editor.css"> 
    <link rel = "stylesheet" type="text/css" href="../css/cursor.css"> 
    <link rel = "stylesheet" type="text/css" href="../css/text_cursor.css"> 
    <link rel = "stylesheet" type="text/css" href="../css/input_area.css"> 
    <link rel = "stylesheet" type="text/css" href="../css/body.css"> 
    <title>Edit</title>
</head>
<body>
  <div id = "win">
   <div id="text_cursor"></div> <div id="cursor" class="animation"></div> 
    <input id = "input_area" type = "text" onkeypress="uniCharCode(event)" onkeydown="uniKeyCode(event)"></div>   
    <!--<input type="text" onkeypress="uniCharCode(event)" onkeydown="uniKeyCode(event)"> 
      文本框----获取键盘输入事件
    -->
  </div>
</body>
  <script type="text/javascript" src="../js/piece_tables.js" language = javaScript charset="UTF-8"></script>   
  <script>      
    var FileBuf = new piece_table();
    window.onload = function(){      
      //mvprinth(0,0,"text");
    }
    text=document.getElementById("input_area");
    text.focus();
    text.onblur=function(){
      text.focus();
    };
    function uniCharCode(event) {
      //debugger
      var char = event.which || event.keyCode;
      //document.getElementById("demo").innerHTML = "Unicode CHARACTER code: " + char;
      char =  String.fromCharCode(event.keyCode);
      console.log(char);
      connect_main(char.toString());
      FileBuf.push_insert(char);
      FileBuf.Text_Show();
    }
    function uniKeyCode(event) {
      var key = event.keyCode;
      console.log(key);
      //document.getElementById("demo2").innerHTML = "Unicode KEY code: " + key;
      switch (key) {
        case 38: up(); break; //上
        case 37: left(); break;//左
        case 39: right(); break;//右
        case 40: down(); break;//下
        case 13: Enter(); break;
        case 8:  BackSpace(); break; //退格键
        case 9: Tab(); break;//Tab键
        case 33: Page_up(); break;//上翻页
        case 34: Page_down();break;//下翻页
        case 27: window.location.href="./index.html"; break;
        case 32: Space(); break;//空格
        default: //var char = String.fromCharCode(key);FileBuf.push_back(char);FileBuf.Text_Show();
        break; 
      } 
    }  
  </script>      
  <script type="text/javascript" src="../js/Process_communication.js" language = javaScript charset="UTF-8"></script>
  <script type="text/javascript" src="../js/typography.js" language = javaScript charset="UTF-8"></script>
  <script type="text/javascript" src="../js/file_operations.js" language=JavaScript charset="UTF-8"></script>  
  <script type="text/javascript" src="../js/Edit_kernel.js" language = javaScript charset="UTF-8"></script> 
</html>